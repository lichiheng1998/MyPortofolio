{"version":3,"sources":["webpack:///./src/components/UploadForm.js","webpack:///./src/pages/upload.js","webpack:///./src/components/Navbar.js"],"names":["UploadForm","props","React","useState","selectedTab","setSelectedTab","buttonStyle","isLoading","wrapper","marginBottom","paddingTop","handleInputChange","data","title","faHeading","description","faBook","content","setContent","markdown","Promise","resolve","converter","makeHtml","handleSubmit","Upload","_isMounted","Showdown","tables","simplifiedAutoLink","strikethrough","tasklists","state","author","getProfile","nickname","bind","checkValidity","event","persist","setState","prev","target","name","value","componentDidMount","isValid","Object","values","reduce","a","b","preventDefault","toast","error","position","POSITION","TOP_CENTER","xhttp","XMLHttpRequest","open","setRequestHeader","tokens","accessToken","self","onreadystatechange","readyState","status","success","send","JSON","stringify","render","isAuthenticated","login","style","justifyContent","height","Component","activeStyle","background","color","Navbar","isActive","clickHandler","myElement","document","querySelector","headroom","window","Headroom","init","button","logout","faUserCircle","extra","zIndex","fontFamily","fontWeight","logo","burger","width","faGithub"],"mappings":"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","file":"component---src-pages-upload-js-5906f0286338850531ca.js","sourcesContent":["import React from \"react\";\r\nimport { wrapper } from \"./Planguages.module.css\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHeading, faBook } from '@fortawesome/free-solid-svg-icons';\r\nimport { Link } from \"gatsby\";\r\nimport ReactMde from \"react-mde\";\r\n\r\nconst UploadForm = (props) => {\r\n    const [ selectedTab, setSelectedTab ] = React.useState(\"write\");\r\n    let buttonStyle = props.isLoading ? \"is-loading\" : \"\"\r\n    return (\r\n        <div className={`${wrapper}`}>\r\n            <div style={{marginBottom: 0}} className=\"columns\">\r\n                <div style={{paddingTop: 0}} className=\"column is-one-quarter\">\r\n                    <label className=\"label\">Title</label>\r\n                    <div className=\"control has-icons-left\">\r\n                      <input name=\"title\" onChange={props.handleInputChange} value={props.data.title} className=\"input\" type=\"text\" placeholder=\"Title of the post\"/>\r\n                      <span className=\"icon is-small is-left\">\r\n                        <FontAwesomeIcon icon={faHeading} />\r\n                      </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{paddingTop: 0}} className=\"column\">\r\n                    <label className=\"label\">Description</label>\r\n                    <div className=\"control has-icons-left\">\r\n                      <input name=\"description\" onChange={props.handleInputChange} value={props.data.description} className=\"input\" type=\"text\" placeholder=\"More about the post\"/>\r\n                      <span className=\"icon is-small is-left\">\r\n                        <FontAwesomeIcon icon={faBook} />\r\n                      </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n              <div className=\"field\">\r\n                <label className=\"label\">Content</label>\r\n                <ReactMde\r\n                  value={props.data.content}\r\n                  onChange={props.setContent}\r\n                  selectedTab={selectedTab}\r\n                  onTabChange={setSelectedTab}\r\n                  generateMarkdownPreview={markdown =>\r\n                    Promise.resolve(props.converter.makeHtml(markdown))\r\n                  }\r\n                />\r\n              </div>\r\n            <br />\r\n            <div className=\"field is-grouped\">\r\n                <div className=\"control\">\r\n                  <button onClick={props.handleSubmit} className={`button ${buttonStyle} is-link`}>Submit</button>\r\n                </div>\r\n                <div className=\"control\">\r\n                  <button className=\"button is-text\"><Link to=\"/blogs\">Cancel</Link></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UploadForm;\r\n","import React from \"react\";\r\nimport { login, isAuthenticated, tokens , getProfile } from \"../utils/auth\";\r\nimport { toast } from 'react-toastify';\r\nimport Helmet from 'react-helmet';\r\nimport Navbar from \"../components/Navbar\";\r\nimport UploadForm from \"../components/UploadForm\";\r\nimport * as Showdown from \"showdown\";\r\n\r\nclass Upload extends React.Component {\r\n    _isMounted = false;\r\n    constructor(){\r\n        super();\r\n        this.converter = new Showdown.Converter({\r\n          tables: true,\r\n          simplifiedAutoLink: true,\r\n          strikethrough: true,\r\n          tasklists: true\r\n        });\r\n\r\n        this.state = {\r\n            data: {\r\n                author: getProfile().nickname,\r\n                title: \"\",\r\n                content: \"\",\r\n                description: \"\",\r\n            },\r\n            isLoading: false\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.setContent = this.setContent.bind(this);\r\n        this.checkValidity = this.checkValidity.bind(this);\r\n    }\r\n\r\n    handleInputChange(event){\r\n        event.persist();\r\n        this.setState((prev) => {\r\n            (prev.data)[event.target.name] = event.target.value;\r\n            return prev;\r\n        })\r\n    }\r\n\r\n    setContent(value){\r\n        this.setState((prev) => {\r\n            prev.data.content = value;\r\n            return prev;\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n    }\r\n\r\n    checkValidity(){\r\n        let isValid = Object.values(this.state.data).reduce((a, b)=>{\r\n            return a && b;\r\n        });\r\n        return isValid\r\n    }\r\n\r\n    handleSubmit(event){\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (this.state.isLoading) {\r\n            return;\r\n        }\r\n        if(!this.checkValidity()){\r\n            toast.error(\"All fields should be filled!\", {\r\n                position: toast.POSITION.TOP_CENTER\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.setState((prev) => {\r\n            prev.isLoading = true;\r\n            return prev;\r\n        })\r\n        var xhttp = new XMLHttpRequest();\r\n        xhttp.open(\"POST\", 'http://ec2-18-222-3-141.us-east-2.compute.amazonaws.com:5000/upload', true);\r\n\r\n        //Send the proper header information along with the request\r\n        xhttp.setRequestHeader(\"Content-Type\", \"application/json\");\r\n        xhttp.setRequestHeader(\"Authorization\", `Bearer ${tokens.accessToken}`);\r\n        let self = this;\r\n        xhttp.onreadystatechange = function() {\r\n            if (this.readyState === 4){\r\n                if (self._isMounted) {\r\n                    self.setState((prev) => {\r\n                        prev.isLoading = false;\r\n                        return prev;\r\n                    })\r\n                }\r\n                if (this.status === 200) {\r\n                    toast.success(\"Upload the post successfully!\", {\r\n                        position: toast.POSITION.TOP_CENTER\r\n                    });\r\n                } else {\r\n                    toast.error(\"Can't upload!\", {\r\n                        position: toast.POSITION.TOP_CENTER\r\n                    });\r\n                }\r\n            }\r\n        };\r\n\r\n        xhttp.send(JSON.stringify(this.state.data));\r\n    }\r\n\r\n    render(){\r\n        if (!isAuthenticated()) {\r\n            login();\r\n            return <p>Redirecting to login...</p>\r\n        }\r\n        return (\r\n            <div>\r\n                <Navbar logo=\"Upload New Post\"/>\r\n                <Helmet htmlAttributes={{style: 'background-color : whitesmoke'}}/>\r\n                <div style={{justifyContent: \"center\"}} className=\" hero is-flex section is-fullheight\">\r\n                    <div style={{\r\n                        height: \"3.25rem\"\r\n                    }}/>\r\n                    <UploadForm\r\n                        handleInputChange={this.handleInputChange}\r\n                        handleSubmit={this.handleSubmit}\r\n                        setContent={this.setContent}\r\n                        data={this.state.data}\r\n                        isLoading={this.state.isLoading}\r\n                        converter={this.converter}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Upload;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport burger from \"./Navbar.module.css\";\r\nimport {SlideDown} from 'react-slidedown';\r\nimport { Link } from \"gatsby\";\r\nimport { login, isAuthenticated, logout } from \"../utils/auth\";\r\nimport 'react-slidedown/lib/slidedown.css';\r\n\r\nconst activeStyle = {\r\n    background: \"#636363\",\r\n    color: \"white\"\r\n}\r\nclass Navbar extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            isActive: false\r\n        }\r\n        this.clickHandler = this.clickHandler.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        // grab an element\r\n        var myElement = document.querySelector(\".headroom\");\r\n        // construct an instance of Headroom, passing the element\r\n        var headroom  = new window.Headroom(myElement, {\r\n          \"offset\": 305,\r\n          \"tolerance\": 5\r\n        });\r\n        // initialise\r\n        headroom.init();\r\n    }\r\n\r\n    clickHandler(event){\r\n        this.setState((prev) => {\r\n            return {\r\n                isActive: !prev.isActive\r\n            };\r\n        });\r\n    }\r\n\r\n    render(){\r\n        let button = isAuthenticated() ? (\r\n            <span onClick={logout} className=\"button is-danger is-outlined\">\r\n              <span className=\"icon\">\r\n                <FontAwesomeIcon icon={faUserCircle} />\r\n              </span>\r\n              <span>Logout</span>\r\n            </span>\r\n        ) : (\r\n            <span onClick={login} className=\"button is-success is-outlined\">\r\n              <span className=\"icon\">\r\n                <FontAwesomeIcon icon={faUserCircle} />\r\n              </span>\r\n              <span>Login</span>\r\n            </span>\r\n        );\r\n        let extra = this.state.isActive ? \"is-active\" : \"\";\r\n        return (\r\n            <header style={{zIndex: 10}} className=\"headroom is-fixed-top\">\r\n                <nav className=\"navbar\">\r\n                <div className=\"navbar-brand\">\r\n                  <span className=\"navbar-item is-size-5\">\r\n                    <p style={{fontFamily: \"'Roboto', sans-serif\", fontWeight: 900}}>{this.props.logo || \"Adam's Page\"}</p>\r\n                  </span>\r\n                  <span className={`navbar-burger burger ${extra} ${burger}`} onClick={this.clickHandler} data-target=\"navbarMenuHeroA\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                  </span>\r\n                </div>\r\n                <SlideDown style={{width: \"100%\"}}>\r\n                    <div id=\"navbarMenuHeroA\" className={\"navbar-menu \" + extra}>\r\n                      <div className=\"navbar-end has-text-centered\">\r\n                        <Link activeStyle={activeStyle} to=\"/\" className=\"navbar-item is-active\">\r\n                          Home\r\n                        </Link>\r\n                        <Link activeStyle={activeStyle} to=\"/blogs\" className=\"navbar-item\">\r\n                          Blog\r\n                        </Link>\r\n                        <span className=\"navbar-item\">\r\n                          <a href=\"https://github.com/lichiheng1998\" className=\"button is-link is-inverted\">\r\n                            <span className=\"icon\">\r\n                              <FontAwesomeIcon icon={faGithub} />\r\n                            </span>\r\n                            <span>Github</span>\r\n                          </a>\r\n                        </span>\r\n                        <span className=\"navbar-item\">\r\n                          {button}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    </SlideDown>\r\n                </nav>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar;\r\n"],"sourceRoot":""}